<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>lcMethod estimation step: logic for preparing the training data — prepareData • latrend</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="lcMethod estimation step: logic for preparing the training data — prepareData"><meta property="og:description" content="Note: this function should not be called directly, as it is part of the lcMethod estimation procedure.
For fitting an lcMethod object to a dataset, use the latrend() function or one of the other standard estimation functions.
The prepareData() function of the lcMethod object processes the training data prior to fitting the method.
Example uses:
Transforming the data to another format, e.g., a matrix.
Truncating the response variable.
Computing derived covariates.
Creating additional data objects.
The computed variables are stored in an environment which is passed to the preFit() function for further processing.
By default, this method does not do anything."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">latrend</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.5.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/demo.html">Demonstration of latrend package</a>
    </li>
    <li>
      <a href="../articles/implement.html">Implementing new methods</a>
    </li>
    <li>
      <a href="../articles/simulation.html">Conducting a simulation study</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/philips-software/latrend/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1><code>lcMethod</code> estimation step: logic for preparing the training data</h1>
    <small class="dont-index">Source: <a href="https://github.com/philips-software/latrend/blob/HEAD/R/generics.R" class="external-link"><code>R/generics.R</code></a>, <a href="https://github.com/philips-software/latrend/blob/HEAD/R/method.R" class="external-link"><code>R/method.R</code></a></small>
    <div class="hidden name"><code>prepareData.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Note: this function should not be called directly, as it is part of the <code>lcMethod</code> <a href="lcMethod-estimation.html">estimation procedure</a>.
For fitting an <code>lcMethod</code> object to a dataset, use the <code><a href="latrend.html">latrend()</a></code> function or <a href="latrend-estimation.html">one of the other standard estimation functions</a>.</p>
<p>The <code>prepareData()</code> function of the <code>lcMethod</code> object processes the training data prior to fitting the method.
Example uses:</p><ul><li><p>Transforming the data to another format, e.g., a matrix.</p></li>
<li><p>Truncating the response variable.</p></li>
<li><p>Computing derived covariates.</p></li>
<li><p>Creating additional data objects.</p></li>
</ul><p>The computed variables are stored in an <code>environment</code> which is passed to the <code><a href="preFit.html">preFit()</a></code> function for further processing.</p>
<p>By default, this method does not do anything.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">prepareData</span><span class="op">(</span><span class="va">method</span>, <span class="va">data</span>, <span class="va">verbose</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for lcMethod</span></span>
<span><span class="fu">prepareData</span><span class="op">(</span><span class="va">method</span>, <span class="va">data</span>, <span class="va">verbose</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>method</dt>
<dd><p>An object inheriting from <code>lcMethod</code> with all its arguments having been evaluated and finalized.</p></dd>


<dt>data</dt>
<dd><p>A <code>data.frame</code> representing the transformed training data.</p></dd>


<dt>verbose</dt>
<dd><p>A <a href="https://henrikbengtsson.github.io/R.utils/reference/Verbose.html" class="external-link">R.utils::Verbose</a> object indicating the level of verbosity.</p></dd>


<dt>...</dt>
<dd><p>Not used.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>An <code>environment</code>.</p>


<p>An <code>environment</code> with the prepared data variable(s) that will be passed to <code><a href="preFit.html">preFit()</a></code>.</p>
    </div>
    <div id="implementation">
    <h2>Implementation</h2>
    

<p>A common use case for this method is when the internal method fitting procedure expects the data in a different format.
In this example, the method converts the training data <code>data.frame</code> to a <code>matrix</code> of repeated and aligned trajectory measurements.</p><div class="sourceCode"><pre><code><span></span>
<span><span class="kw"><a href="https://rdrr.io/r/methods/setMethod.html" class="external-link">setMethod</a></span><span class="op">(</span><span class="st">"prepareData"</span>, <span class="st">"lcMethodExample"</span>, <span class="kw">function</span><span class="op">(</span><span class="va">method</span>, <span class="va">data</span>, <span class="va">verbose</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">envir</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/environment.html" class="external-link">new.env</a></span><span class="op">(</span><span class="op">)</span></span>
<span>  <span class="co"># transform the data to matrix</span></span>
<span>  <span class="va">envir</span><span class="op">$</span><span class="va">dataMat</span> <span class="op">=</span> <span class="fu"><a href="../reference/tsmatrix.html">tsmatrix</a></span><span class="op">(</span><span class="va">data</span>,</span>
<span>    id <span class="op">=</span> <span class="va">idColumn</span>, time <span class="op">=</span> <span class="va">timeColumn</span>, response <span class="op">=</span> <span class="va">valueColumn</span><span class="op">)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">envir</span><span class="op">)</span></span>
<span><span class="op">}</span><span class="op">)</span></span></code></pre></div>

    </div>
    <div id="estimation-procedure">
    <h2>Estimation procedure</h2>
    

<p>The steps for estimating a <code>lcMethod</code> object are defined and executed as follows:</p><ol><li><p><code><a href="compose.html">compose()</a></code>: Evaluate and finalize the method argument values.</p></li>
<li><p><code><a href="validate.html">validate()</a></code>: Check the validity of the method argument values in relation to the dataset.</p></li>
<li><p><code>prepareData()</code>: Process the training data for fitting.</p></li>
<li><p><code><a href="preFit.html">preFit()</a></code>: Prepare environment for estimation, independent of training data.</p></li>
<li><p><code><a href="fit.html">fit()</a></code>: Estimate the specified method on the training data, outputting an object inheriting from <code>lcModel</code>.</p></li>
<li><p><code><a href="postFit.html">postFit()</a></code>: Post-process the outputted <code>lcModel</code> object.</p></li>
</ol><p>The result of the fitting procedure is an <a href="lcModel-class.html">lcModel</a> object that inherits from the <code>lcModel</code> class.</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Niek Den Teuling.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

