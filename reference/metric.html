<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Compute internal model metric(s) — metric • latrend</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Compute internal model metric(s) — metric"><meta property="og:description" content="Compute one or more internal metrics for the given lcModel object.
Note that there are many metrics available, and there exists no metric that works best in all scenarios.
It is recommended to carefully consider which metric is most appropriate for your use case.
Recommended overview papers:
van der Nest et al. (2020)
 provide an overview of metrics for mixture models (GBTM, GMM); primarily likelihood-based or posterior probability-based metrics.
Henson et al. (2007)
 provide an overview of likelihood-based metrics for mixture models.


Call getInternalMetricNames() to retrieve the names of the defined internal metrics.
See the Details section below for a list of supported metrics."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">latrend</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.2.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/demo.html">Demonstration of latrend package</a>
    </li>
    <li>
      <a href="../articles/implement.html">Implementing new models</a>
    </li>
    <li>
      <a href="../articles/simulation.html">Conducting a simulation study</a>
    </li>
    <li>
      <a href="../articles/validation.html">Validating cluster models</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/philips-software/latrend/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Compute internal model metric(s)</h1>
    <small class="dont-index">Source: <a href="https://github.com/philips-software/latrend/blob/HEAD/R/model.R" class="external-link"><code>R/model.R</code></a>, <a href="https://github.com/philips-software/latrend/blob/HEAD/R/metricsInternal.R" class="external-link"><code>R/metricsInternal.R</code></a>, <a href="https://github.com/philips-software/latrend/blob/HEAD/R/models.R" class="external-link"><code>R/models.R</code></a></small>
    <div class="hidden name"><code>metric.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Compute one or more internal metrics for the given <code>lcModel</code> object.</p>
<p>Note that there are many metrics available, and there exists no metric that works best in all scenarios.
It is recommended to carefully consider which metric is most appropriate for your use case.</p>
<p>Recommended overview papers:</p><ul><li><p>van der Nest et al. (2020)
 provide an overview of metrics for mixture models (GBTM, GMM); primarily likelihood-based or posterior probability-based metrics.</p></li>
<li><p>Henson et al. (2007)
 provide an overview of likelihood-based metrics for mixture models.</p></li>
</ul><p>Call <code><a href="getInternalMetricNames.html">getInternalMetricNames()</a></code> to retrieve the names of the defined internal metrics.</p>
<p>See the <em>Details</em> section below for a list of supported metrics.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="co"># S4 method for lcModel</span>
<span class="fu">metric</span><span class="op">(</span><span class="va">object</span>, name <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">getOption</a></span><span class="op">(</span><span class="st">"latrend.metric"</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"WRSS"</span>, <span class="st">"APPA.mean"</span><span class="op">)</span><span class="op">)</span>, <span class="va">...</span><span class="op">)</span>

<span class="co"># S4 method for list</span>
<span class="fu">metric</span><span class="op">(</span><span class="va">object</span>, <span class="va">name</span>, drop <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>

<span class="co"># S4 method for lcModels</span>
<span class="fu">metric</span><span class="op">(</span><span class="va">object</span>, <span class="va">name</span>, drop <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>object</dt>
<dd><p>The <code>lcModel</code>, <code>lcModels</code>, or <code>list</code> of <code>lcModel</code> objects to compute the metrics for.</p></dd>
<dt>name</dt>
<dd><p>The name(s) of the metric(s) to compute. If no names are given, the names specified in the <code>latrend.metric</code> option (WRSS, APPA, AIC, BIC) are used.</p></dd>
<dt>...</dt>
<dd><p>Additional arguments.</p></dd>
<dt>drop</dt>
<dd><p>Whether to return a <code>numeric vector</code> instead of a <code>data.frame</code>
in case of a single metric.</p></dd>
</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>For <code>metric(lcModel)</code>: A named <code>numeric</code> vector with the computed model metrics.
For <code>metric(list)</code>: A <code>data.frame</code> with a metric per column.
For <code>metric(lcModels)</code>: A <code>data.frame</code> with a metric per column.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>List of currently supported metrics:</p><table class="table table"><tr><td><strong>Metric name</strong></td><td><strong>Description</strong></td><td><strong>Function / Reference</strong></td></tr><tr><td><code>AIC</code></td><td><a href="https://en.wikipedia.org/wiki/Akaike_information_criterion" class="external-link">Akaike information criterion</a></td><td><code><a href="https://rdrr.io/r/stats/AIC.html" class="external-link">stats::AIC()</a></code>, (Akaike 1974)</td></tr><tr><td><code>APPA.mean</code></td><td>Mean of the average posterior probability of assignment (APPA) across clusters</td><td><code><a href="APPA.html">APPA()</a></code>, (Nagin 2005)</td></tr><tr><td><code>APPA.min</code></td><td>Lowest APPA among the clusters</td><td><code><a href="APPA.html">APPA()</a></code>, (Nagin 2005)</td></tr><tr><td><code>BIC</code></td><td><a href="https://en.wikipedia.org/wiki/Bayesian_information_criterion" class="external-link">Bayesian information criterion</a></td><td><code><a href="https://rdrr.io/r/stats/AIC.html" class="external-link">stats::BIC()</a></code>, (Schwarz 1978)</td></tr><tr><td><code>CAIC</code></td><td>Consistent Akaike information criterion</td><td>(Bozdogan 1987)</td></tr><tr><td><code>CLC</code></td><td>Classification likelihood criterion</td><td>(McLachlan and Peel 2000)</td></tr><tr><td><code>converged</code></td><td>Whether the model converged during estimation</td><td><code><a href="converged.html">converged()</a></code></td></tr><tr><td><code>deviance</code></td><td>The model <a href="https://en.wikipedia.org/wiki/Deviance_(statistics)" class="external-link">deviance</a></td><td><code><a href="https://rdrr.io/r/stats/deviance.html" class="external-link">stats::deviance()</a></code></td></tr><tr><td><code>entropy</code></td><td>Entropy of the posterior probabilities</td><td></td></tr><tr><td><code>estimationTime</code></td><td>The time needed for fitting the model</td><td><code><a href="estimationTime.html">estimationTime()</a></code></td></tr><tr><td><code>ED</code></td><td><a href="https://en.wikipedia.org/wiki/Euclidean_distance" class="external-link">Euclidean distance</a> between the cluster trajectories and the assigned observed trajectories</td><td></td></tr><tr><td><code>ED.fit</code></td><td>Euclidean distance between the cluster trajectories and the assigned fitted trajectories</td><td></td></tr><tr><td><code>ICL.BIC</code></td><td>Integrated classification likelihood (ICL) approximated using the BIC</td><td>(Biernacki et al. 2000)</td></tr><tr><td><code>logLik</code></td><td>Model log-<a href="https://en.wikipedia.org/wiki/Likelihood_function" class="external-link">likelihood</a></td><td><code><a href="https://rdrr.io/r/stats/logLik.html" class="external-link">stats::logLik()</a></code></td></tr><tr><td><code>MAE</code></td><td><a href="https://en.wikipedia.org/wiki/Mean_absolute_error" class="external-link">Mean absolute error</a> of the fitted trajectories (assigned to the most likely respective cluster) to the observed trajectories</td><td></td></tr><tr><td><code>Mahalanobis</code></td><td><a href="https://en.wikipedia.org/wiki/Mahalanobis_distance" class="external-link">Mahalanobis distance</a> between the cluster trajectories and the assigned observed trajectories</td><td>(Mahalanobis 1936)</td></tr><tr><td><code>MSE</code></td><td><a href="https://en.wikipedia.org/wiki/Mean_squared_error" class="external-link">Mean squared error</a> of the fitted trajectories (assigned to the most likely respective cluster) to the observed trajectories</td><td></td></tr><tr><td><code>relativeEntropy</code>, <code>RE</code></td><td>The normalized version of <code>entropy</code>, scaled between [0, 1].</td><td>(Ramaswamy et al. 1993)
, (Muthén 2004)</td></tr><tr><td><code>RSS</code></td><td><a href="https://en.wikipedia.org/wiki/Residual_sum_of_squares" class="external-link">Residual sum of squares</a> under most likely cluster allocation</td><td></td></tr><tr><td><code>scaledEntropy</code></td><td>See <code>relativeEntropy</code></td><td></td></tr><tr><td><code>sigma</code></td><td>The residual standard deviation</td><td><code><a href="https://rdrr.io/r/stats/sigma.html" class="external-link">stats::sigma()</a></code></td></tr><tr><td><code>ssBIC</code></td><td>Sample-size adjusted BIC</td><td>(Sclove 1987)</td></tr><tr><td><code>SED</code></td><td>Standardized Euclidean distance between the cluster trajectories and the assigned observed trajectories</td><td></td></tr><tr><td><code>SED.fit</code></td><td>The cluster-weighted standardized Euclidean distance between the cluster trajectories and the assigned fitted trajectories</td><td></td></tr><tr><td><code>WMAE</code></td><td><code>MAE</code> weighted by cluster-assignment probability</td><td></td></tr><tr><td><code>WMSE</code></td><td><code>MSE</code> weighted by cluster-assignment probability</td><td></td></tr><tr><td><code>WRSS</code></td><td><code>RSS</code> weighted by cluster-assignment probability</td><td></td></tr></table></div>
    <div id="implementation">
    <h2>Implementation</h2>
    

<p>See the documentation of the <code><a href="defineInternalMetric.html">defineInternalMetric()</a></code> function for details on how to define your own metrics.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Akaike H (1974).
“A new look at the statistical model identification.”
<em>IEEE Transactions on Automatic Control</em>, <b>19</b>(6), 716-723.
doi: <a href="https://doi.org/10.1109/TAC.1974.1100705" class="external-link">10.1109/TAC.1974.1100705</a>
.<br><br> Biernacki C, Celeux G, Govaert G (2000).
“Assessing a mixture model for clustering with the integrated completed likelihood.”
<em>IEEE Transactions on Pattern Analysis and Machine Intelligence</em>, <b>22</b>(7), 719-725.
doi: <a href="https://doi.org/10.1109/34.865189" class="external-link">10.1109/34.865189</a>
.<br><br> Bozdogan H (1987).
“Model Selection and Akaike's Information Criterion (AIC): The General Theory and Its Analytical Extensions.”
<em>Psychometrika</em>, <b>52</b>, 345--370.
doi: <a href="https://doi.org/10.1007/BF02294361" class="external-link">10.1007/BF02294361</a>
.<br><br> Henson JM, Reise SP, Kim KH (2007).
“Detecting Mixtures From Structural Model Differences Using Latent Variable Mixture Modeling: A Comparison of Relative Model Fit Statistics.”
<em>Structural Equation Modeling: A Multidisciplinary Journal</em>, <b>14</b>(2), 202--226.
doi: <a href="https://doi.org/10.1080/10705510709336744" class="external-link">10.1080/10705510709336744</a>
.<br><br> Mahalanobis PC (1936).
“On the generalized distance in statistics.”
<em>Proceedings of the National Institute of Sciences (Calcutta)</em>, <b>2</b>(1), 49--55.<br><br> McLachlan G, Peel D (2000).
<em>Finite Mixture Models</em>.
John Wiley &amp; Sons, Inc.
ISBN 9780471006268.<br><br> Muthén B (2004).
“Latent variable analysis: Growth mixture modeling and related techniques for longitudinal data.”
In <em>The SAGE Handbook of Quantitative Methodology for the Social Sciences</em>, 346--369.
SAGE Publications, Inc.
doi: <a href="https://doi.org/10.4135/9781412986311.n19" class="external-link">10.4135/9781412986311.n19</a>
.<br><br> Nagin DS (2005).
<em>Group-based modeling of development</em>.
Harvard University Press.
ISBN 9780674041318, doi: <a href="https://doi.org/10.4159/9780674041318" class="external-link">10.4159/9780674041318</a>
.<br><br> Ramaswamy V, Desarbo W, Reibstein D, Robinson W (1993).
“An Empirical Pooling Approach for Estimating Marketing Mix Elasticities with PIMS Data.”
<em>Marketing Science</em>, <b>12</b>(1), 103-124.
doi: <a href="https://doi.org/10.1287/mksc.12.1.103" class="external-link">10.1287/mksc.12.1.103</a>
.<br><br> Schwarz G (1978).
“Estimating the Dimension of a Model.”
<em>The Annals of Statistics</em>, <b>6</b>(2), 461 -- 464.
doi: <a href="https://doi.org/10.1214/aos/1176344136" class="external-link">10.1214/aos/1176344136</a>
.<br><br> Sclove SL (1987).
“Application of model-selection criteria to some problems in multivariate analysis.”
<em>Psychometrika</em>, <b>52</b>(3), 333--343.
doi: <a href="https://doi.org/10.1007/BF02294360" class="external-link">10.1007/BF02294360</a>
.<br><br> van der Nest G, Lima Passos V, Candel MJ, van Breukelen GJ (2020).
“An overview of mixture modelling for latent evolutions in longitudinal data: Modelling approaches, fit statistics and software.”
<em>Advances in Life Course Research</em>, <b>43</b>, 100323.
ISSN 1040-2608, doi: <a href="https://doi.org/10.1016/j.alcr.2019.100323" class="external-link">10.1016/j.alcr.2019.100323</a>
.</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><a href="externalMetric.html">externalMetric</a> <a href="min.lcModels.html">min.lcModels</a> <a href="max.lcModels.html">max.lcModels</a></p>
<p>Other metric functions: 
<code><a href="defineExternalMetric.html">defineExternalMetric</a>()</code>,
<code><a href="defineInternalMetric.html">defineInternalMetric</a>()</code>,
<code><a href="externalMetric.html">externalMetric,lcModel,lcModel-method</a></code>,
<code><a href="getExternalMetricDefinition.html">getExternalMetricDefinition</a>()</code>,
<code><a href="getExternalMetricNames.html">getExternalMetricNames</a>()</code>,
<code><a href="getInternalMetricDefinition.html">getInternalMetricDefinition</a>()</code>,
<code><a href="getInternalMetricNames.html">getInternalMetricNames</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">latrendData</span><span class="op">)</span></span>
<span class="r-in"><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="latrend.html">latrend</a></span><span class="op">(</span><span class="fu"><a href="lcMethodLcmmGMM.html">lcMethodLcmmGMM</a></span><span class="op">(</span>fixed <span class="op">=</span> <span class="va">Y</span> <span class="op">~</span> <span class="va">Time</span>, mixture <span class="op">=</span> <span class="op">~</span> <span class="va">Time</span>,</span>
<span class="r-in">   id <span class="op">=</span> <span class="st">"Id"</span>, time <span class="op">=</span> <span class="st">"Time"</span><span class="op">)</span>, <span class="va">latrendData</span><span class="op">)</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Be patient, hlme is running ... </span>
<span class="r-out co"><span class="r-pr">#&gt;</span> The program took 0.37 seconds </span>
<span class="r-in"><span class="va">bic</span> <span class="op">&lt;-</span> <span class="fu">metric</span><span class="op">(</span><span class="va">model</span>, <span class="st">"BIC"</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"><span class="va">ic</span> <span class="op">&lt;-</span> <span class="fu">metric</span><span class="op">(</span><span class="va">model</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"AIC"</span>, <span class="st">"BIC"</span><span class="op">)</span><span class="op">)</span></span>
<span class="r-in"></span>
<span class="r-in"></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Niek Den Teuling.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.1.</p>
</div>

      </footer></div>

  


  

  </body></html>

