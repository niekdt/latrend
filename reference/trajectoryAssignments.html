<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Get the cluster membership of each trajectory — trajectoryAssignments • latrend</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.7.1/jquery.min.js" integrity="sha512-v2CJ7UaYy4JwqLDIrZUI/4hqeoQieOmAZNXBeQyjo21dadnwR+8ZaIJVT8EE2iyI61OV8e6M8PP2/4hpQINQ/g==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Get the cluster membership of each trajectory — trajectoryAssignments"><meta property="og:description" content="Get the cluster membership of each trajectory associated with the given model.
For lcModel: Classify the fitted trajectories based on the posterior probabilities computed by postprob(), according to a given classification strategy.
By default, trajectories are assigned based on the highest posterior probability using which.max().
In cases where identical probabilities are expected between clusters, it is preferable to use which.is.max instead, as this function breaks ties at random.
Another strategy to consider is the function which.weight(), which enables weighted sampling of cluster assignments based on the trajectory-specific probabilities."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">


    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">latrend</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.6.2</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles

    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/demo.html">Demonstration of latrend package</a>
    </li>
    <li>
      <a href="../articles/implement.html">Implementing new methods</a>
    </li>
    <li>
      <a href="../articles/simulation.html">Conducting a simulation study</a>
    </li>
  </ul></li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/niekdt/latrend/" class="external-link">
    <span class="fab fa-github fa-lg"></span>

  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->



      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Get the cluster membership of each trajectory</h1>
    <small class="dont-index">Source: <a href="https://github.com/niekdt/latrend/blob/master/R/generics.R" class="external-link"><code>R/generics.R</code></a>, <a href="https://github.com/niekdt/latrend/blob/master/R/matrix.R" class="external-link"><code>R/matrix.R</code></a>, <a href="https://github.com/niekdt/latrend/blob/master/R/model.R" class="external-link"><code>R/model.R</code></a></small>
    <div class="hidden name"><code>trajectoryAssignments.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Get the cluster membership of each trajectory associated with the given model.</p>
<p>For <code>lcModel</code>: Classify the fitted trajectories based on the posterior probabilities computed by <code><a href="postprob.html">postprob()</a></code>, according to a given classification strategy.</p>
<p>By default, trajectories are assigned based on the highest posterior probability using <code><a href="https://rdrr.io/r/base/which.min.html" class="external-link">which.max()</a></code>.
In cases where identical probabilities are expected between clusters, it is preferable to use <a href="https://rdrr.io/pkg/nnet/man/which.is.max.html" class="external-link">which.is.max</a> instead, as this function breaks ties at random.
Another strategy to consider is the function <code><a href="which.weight.html">which.weight()</a></code>, which enables weighted sampling of cluster assignments based on the trajectory-specific probabilities.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">trajectoryAssignments</span><span class="op">(</span><span class="va">object</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'matrix'</span></span>
<span><span class="fu">trajectoryAssignments</span><span class="op">(</span></span>
<span>  <span class="va">object</span>,</span>
<span>  strategy <span class="op">=</span> <span class="va">which.max</span>,</span>
<span>  clusterNames <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/colnames.html" class="external-link">colnames</a></span><span class="op">(</span><span class="va">object</span><span class="op">)</span>,</span>
<span>  <span class="va">...</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S4 method for class 'lcModel'</span></span>
<span><span class="fu">trajectoryAssignments</span><span class="op">(</span><span class="va">object</span>, strategy <span class="op">=</span> <span class="va">which.max</span>, <span class="va">...</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>


<dl><dt id="arg-object">object<a class="anchor" aria-label="anchor" href="#arg-object"></a></dt>
<dd><p>The model.</p></dd>


<dt id="arg--">...<a class="anchor" aria-label="anchor" href="#arg--"></a></dt>
<dd><p>Any additional arguments passed to the strategy function.</p></dd>


<dt id="arg-strategy">strategy<a class="anchor" aria-label="anchor" href="#arg-strategy"></a></dt>
<dd><p>A function returning the cluster index based on the given vector of membership probabilities. By default, ids are assigned to the cluster with the highest probability.</p></dd>


<dt id="arg-clusternames">clusterNames<a class="anchor" aria-label="anchor" href="#arg-clusternames"></a></dt>
<dd><p>Optional <code>character vector</code> with the cluster names.
If <code>clusterNames = NULL</code>, <code><a href="lcModel-make.html">make.clusterNames()</a></code> is used.</p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    <p>A <code>factor vector</code> indicating the cluster membership for each trajectory.</p>
    </div>
    <div id="details">
    <h2>Details</h2>
    <p>In case <code>object</code> is a <code>matrix</code>: the posterior probability <code>matrix</code>,
with the \(k\)th column containing the observation- or trajectory-specific probability for cluster \(k\).</p>
    </div>
    <div id="see-also">
    <h2>See also</h2>
    <div class="dont-index"><p><a href="postprob.html">postprob</a> <a href="clusterSizes.html">clusterSizes</a> <a href="predictAssignments.html">predictAssignments</a></p>
<p>Other lcModel functions:
<code><a href="clusterNames.html">clusterNames</a>()</code>,
<code><a href="clusterProportions.html">clusterProportions</a>()</code>,
<code><a href="clusterSizes.html">clusterSizes</a>()</code>,
<code><a href="clusterTrajectories.html">clusterTrajectories</a>()</code>,
<code><a href="coef.lcModel.html">coef.lcModel</a>()</code>,
<code><a href="converged.html">converged</a>()</code>,
<code><a href="deviance.lcModel.html">deviance.lcModel</a>()</code>,
<code><a href="df.residual.lcModel.html">df.residual.lcModel</a>()</code>,
<code><a href="estimationTime.html">estimationTime</a>()</code>,
<code><a href="externalMetric.html">externalMetric</a>()</code>,
<code><a href="fitted.lcModel.html">fitted.lcModel</a>()</code>,
<code><a href="fittedTrajectories.html">fittedTrajectories</a>()</code>,
<code><a href="getCall.lcModel.html">getCall.lcModel</a>()</code>,
<code><a href="getLcMethod.html">getLcMethod</a>()</code>,
<code><a href="ids.html">ids</a>()</code>,
<code><a href="lcModel-class.html">lcModel-class</a></code>,
<code><a href="metric.html">metric</a>()</code>,
<code><a href="model.frame.lcModel.html">model.frame.lcModel</a>()</code>,
<code><a href="nClusters.html">nClusters</a>()</code>,
<code><a href="nIds.html">nIds</a>()</code>,
<code><a href="nobs.lcModel.html">nobs.lcModel</a>()</code>,
<code><a href="plot-lcModel-method.html">plot-lcModel-method</a></code>,
<code><a href="plotClusterTrajectories.html">plotClusterTrajectories</a>()</code>,
<code><a href="plotFittedTrajectories.html">plotFittedTrajectories</a>()</code>,
<code><a href="postprob.html">postprob</a>()</code>,
<code><a href="predict.lcModel.html">predict.lcModel</a>()</code>,
<code><a href="predictAssignments.html">predictAssignments</a>()</code>,
<code><a href="predictForCluster.html">predictForCluster</a>()</code>,
<code><a href="predictPostprob.html">predictPostprob</a>()</code>,
<code><a href="qqPlot.html">qqPlot</a>()</code>,
<code><a href="residuals.lcModel.html">residuals.lcModel</a>()</code>,
<code><a href="sigma.lcModel.html">sigma.lcModel</a>()</code>,
<code><a href="strip.html">strip</a>()</code>,
<code><a href="time.lcModel.html">time.lcModel</a>()</code></p></div>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="va">latrendData</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">method</span> <span class="op">&lt;-</span> <span class="fu"><a href="lcMethodLMKM.html">lcMethodLMKM</a></span><span class="op">(</span><span class="va">Y</span> <span class="op">~</span> <span class="va">Time</span>, id <span class="op">=</span> <span class="st">"Id"</span>, time <span class="op">=</span> <span class="st">"Time"</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">model</span> <span class="op">&lt;-</span> <span class="fu"><a href="latrend.html">latrend</a></span><span class="op">(</span><span class="va">method</span>, <span class="va">latrendData</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu">trajectoryAssignments</span><span class="op">(</span><span class="va">model</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [38] B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [75] B B B B B B A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [112] A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [149] A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [186] A A A A A A A A A A A A A A A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Levels: A B</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># assign trajectories at random using weighted sampling</span></span></span>
<span class="r-in"><span><span class="fu">trajectoryAssignments</span><span class="op">(</span><span class="va">model</span>, strategy <span class="op">=</span> <span class="va">which.weight</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>   [1] B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [38] B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B B</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>  [75] B B B B B B A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [112] A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [149] A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> [186] A A A A A A A A A A A A A A A</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> Levels: A B</span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Niek Den Teuling.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

      </footer></div>






  </body></html>

