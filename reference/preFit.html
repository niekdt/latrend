<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Prepare environment for fitting — preFit • latrend</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Prepare environment for fitting — preFit" />
<meta property="og:description" content="Perform preparatory work that is needed for fitting the method, but should not be counted towards the method estimation time.
The work is added to the provided environment, allowing the fit() function to make use of the prepared work." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">latrend</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/demo.html">Demonstration of latrend package</a>
    </li>
    <li>
      <a href="../articles/implement.html">Implementing new models</a>
    </li>
    <li>
      <a href="../articles/simulation.html">Conducting a simulation study</a>
    </li>
    <li>
      <a href="../articles/validation.html">Validating cluster models</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/philips-software/latrend/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Prepare environment for fitting</h1>
    <small class="dont-index">Source: <a href='https://github.com/philips-software/latrend/blob/master/R/method.R'><code>R/method.R</code></a></small>
    <div class="hidden name"><code>preFit.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Perform preparatory work that is needed for fitting the method, but should not be counted towards the method estimation time.
The work is added to the provided <code>environment</code>, allowing the <code><a href='fit.html'>fit()</a></code> function to make use of the prepared work.</p>
    </div>

    <pre class="usage"><span class='co'># S4 method for lcMethod</span>
<span class='fu'>preFit</span><span class='op'>(</span><span class='va'>method</span>, <span class='va'>data</span>, <span class='va'>envir</span>, <span class='va'>verbose</span><span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>method</th>
      <td><p>An object inheriting from <code>lcMethod</code> with all its arguments having been evaluated and finalized.</p></td>
    </tr>
    <tr>
      <th>data</th>
      <td><p>A <code>data.frame</code> representing the transformed training data.</p></td>
    </tr>
    <tr>
      <th>envir</th>
      <td><p>The <code>environment</code> containing additional data variables returned by <code><a href='prepareData.html'>prepareData()</a></code>.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>A <a href='https://rdrr.io/pkg/R.utils/man/Verbose.html'>R.utils::Verbose</a> object indicating the level of verbosity.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>The updated <code>environment</code> that will be passed to <code><a href='fit.html'>fit()</a></code>.</p>
    <h2 class="hasAnchor" id="implementation"><a class="anchor" href="#implementation"></a>Implementation</h2>

    

<pre>
<span class='kw'><a href='https://rdrr.io/r/methods/setMethod.html'>setMethod</a></span><span class='op'>(</span><span class='st'>"preFit"</span>, <span class='st'>"lcMethodExample"</span>, <span class='kw'>function</span><span class='op'>(</span><span class='va'>method</span>, <span class='va'>data</span>, <span class='va'>envir</span>, <span class='va'>verbose</span><span class='op'>)</span> <span class='op'>{</span>
  <span class='co'># update envir with additional computed work</span>
  <span class='va'>envir</span><span class='op'>$</span><span class='va'>x</span> <span class='op'>&lt;-</span> <span class='va'>INTENSIVE_OPERATION</span>
  <span class='kw'><a href='https://rdrr.io/r/base/function.html'>return</a></span><span class='op'>(</span><span class='va'>envir</span><span class='op'>)</span>
<span class='op'>}</span><span class='op'>)</span>
</pre>

    <h2 class="hasAnchor" id="fitting-procedure"><a class="anchor" href="#fitting-procedure"></a>Fitting procedure</h2>

    

<p>Each <code>lcMethod</code> subclass defines a type of methods in terms of a series of steps for estimating the method.
These steps, as part of the fitting procedure, are executed by <code><a href='latrend.html'>latrend()</a></code> in the following order:</p><ol>
<li><p><code><a href='compose.html'>compose()</a></code>: Evaluate and finalize the method argument values.</p></li>
<li><p><code><a href='validate.html'>validate()</a></code>: Check the validity of the method argument values in relation to the dataset.</p></li>
<li><p><code><a href='prepareData.html'>prepareData()</a></code>: Process the training data for fitting.</p></li>
<li><p><code>preFit()</code>: Prepare environment for estimation, independent of training data.</p></li>
<li><p><code><a href='fit.html'>fit()</a></code>: Estimate the specified method on the training data, outputting an object inheriting from <code>lcModel</code>.</p></li>
<li><p><code><a href='postFit.html'>postFit()</a></code>: Post-process the outputted <code>lcModel</code> object.</p></li>
</ol>

<p>The result of the fitting procedure is an <a href='lcModel-class.html'>lcModel</a> object that inherits from the <code>lcModel</code> class.</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Niek Den Teuling.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


